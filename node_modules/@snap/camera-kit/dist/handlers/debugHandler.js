import { isString } from "../common/typeguards";
import { getConfigurationOverrides } from "../configurationOverrides";
export const createDebugHandler = () => {
    var _a;
    const noCustomWasmEndpoint = !((_a = getConfigurationOverrides()) === null || _a === void 0 ? void 0 : _a.wasmEndpointOverride);
    if (noCustomWasmEndpoint) {
        return (next) => next;
    }
    return (next) => (input, init) => {
        var _a;
        const url = isString(input) ? input : (_a = input === null || input === void 0 ? void 0 : input.url) !== null && _a !== void 0 ? _a : "";
        if (url.startsWith("https://lens-core-wasm.sc-corp.net/")) {
            return next(input, Object.assign(Object.assign({}, init), { credentials: "include" }));
        }
        return next(input, init);
    };
};
//# sourceMappingURL=debugHandler.js.map